# AstrBot LetAI 智能表情包插件

让AI智能分析对话内容并发送合适表情包的AstrBot插件。

## ✨ 功能特点

- **智能情感分析**：分析AI回复的情感倾向和内容主题
- **表情包匹配**：根据AI回复内容选择对应表情包
- **历史记录**：避免短期重复使用相同表情包
- **多数据源支持**：支持网络JSON、本地文件、本地目录等数据源
- **灵活配置**：可自定义发送概率、超时时间等参数

## 🚀 安装使用

1. 将插件文件夹放入AstrBot的`plugins`目录
2. 重启AstrBot即可

### 配置选项
```json
{
  "enable_context_parsing": true,    // 是否启用智能表情包选择
  "send_probability": 0.3,           // 发送概率 (0.0-1.0)
  "request_timeout": 15,             // 网络超时时间(秒)
  "emoji_source": ""                 // 表情包数据源(留空使用默认)
}
```

## 📋 命令列表

| 命令 | 功能 |
|------|------|
| `测试表情包下载` | 测试下载功能 |
| `查看缓存信息` | 查看缓存状态 |
| `清理本地表情包` | 清理本地文件 |
| `查看使用历史` | 查看使用记录 |
| `清空使用历史` | 清空使用记录 |
| `表情包统计` | 查看详细统计 |

## 🔍 数据源配置

支持多种数据源：
- 留空：使用默认ChineseBQB数据源
- 网络JSON地址：如ChineseBQB的GitHub链接
- 本地JSON文件：自定义表情包索引
- 本地目录：自动扫描图片文件生成索引

## 🚀 未来开发计划

- **表情包向量检索**：基于向量相似度匹配，提升表情包选择的准确性和检索速度
- **更多情感类型**：扩展支持更细粒度的情感分析
- **用户偏好学习**：根据用户反馈优化表情包推荐

## 🙏 致谢

本插件默认使用 [ChineseBQB](https://github.com/zhaoolee/ChineseBQB) 项目提供的表情包数据。